/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var tt=Object.create;var he=Object.defineProperty;var nt=Object.getOwnPropertyDescriptor;var st=Object.getOwnPropertyNames;var it=Object.getPrototypeOf,rt=Object.prototype.hasOwnProperty;var ot=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),at=(n,t)=>{for(var e in t)he(n,e,{get:t[e],enumerable:!0})},$e=(n,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of st(t))!rt.call(n,i)&&i!==e&&he(n,i,{get:()=>t[i],enumerable:!(s=nt(t,i))||s.enumerable});return n};var ct=(n,t,e)=>(e=n!=null?tt(it(n)):{},$e(t||!n||!n.__esModule?he(e,"default",{value:n,enumerable:!0}):e,n)),lt=n=>$e(he({},"__esModule",{value:!0}),n);var qe=ot((Wt,De)=>{(function(){"use strict";var n=["\u3131","\u3132","\u3134","\u3137","\u3138","\u3139","\u3141","\u3142","\u3143","\u3145","\u3146","\u3147","\u3148","\u3149","\u314A","\u314B","\u314C","\u314D","\u314E"],t=["\u314F","\u3150","\u3151","\u3152","\u3153","\u3154","\u3155","\u3156","\u3157",["\u3157","\u314F"],["\u3157","\u3150"],["\u3157","\u3163"],"\u315B","\u315C",["\u315C","\u3153"],["\u315C","\u3154"],["\u315C","\u3163"],"\u3160","\u3161",["\u3161","\u3163"],"\u3163"],e=["","\u3131","\u3132",["\u3131","\u3145"],"\u3134",["\u3134","\u3148"],["\u3134","\u314E"],"\u3137","\u3139",["\u3139","\u3131"],["\u3139","\u3141"],["\u3139","\u3142"],["\u3139","\u3145"],["\u3139","\u314C"],["\u3139","\u314D"],["\u3139","\u314E"],"\u3141","\u3142",["\u3142","\u3145"],"\u3145","\u3146","\u3147","\u3148","\u314A","\u314B","\u314C","\u314D","\u314E"],s=44032,i=["\u3131","\u3132","\u3133","\u3134","\u3135","\u3136","\u3137","\u3138","\u3139","\u313A","\u313B","\u313C","\u313D","\u313E","\u313F","\u3140","\u3141","\u3142","\u3143","\u3144","\u3145","\u3146","\u3147","\u3148","\u3149","\u314A","\u314B","\u314C","\u314D","\u314E"],o=["\u3131","\u3132","\u3134","\u3137","\u3138","\u3139","\u3141","\u3142","\u3143","\u3145","\u3146","\u3147","\u3148","\u3149","\u314A","\u314B","\u314C","\u314D","\u314E"],a=["\u314F","\u3150","\u3151","\u3152","\u3153","\u3154","\u3155","\u3156","\u3157","\u3158","\u3159","\u315A","\u315B","\u315C","\u315D","\u315E","\u315F","\u3160","\u3161","\u3162","\u3163"],c=["","\u3131","\u3132","\u3133","\u3134","\u3135","\u3136","\u3137","\u3139","\u313A","\u313B","\u313C","\u313D","\u313E","\u313F","\u3140","\u3141","\u3142","\u3144","\u3145","\u3146","\u3147","\u3148","\u314A","\u314B","\u314C","\u314D","\u314E"],h=[["\u3131","\u3145","\u3133"],["\u3134","\u3148","\u3135"],["\u3134","\u314E","\u3136"],["\u3139","\u3131","\u313A"],["\u3139","\u3141","\u313B"],["\u3139","\u3142","\u313C"],["\u3139","\u3145","\u313D"],["\u3139","\u314C","\u313E"],["\u3139","\u314D","\u313F"],["\u3139","\u314E","\u3140"],["\u3142","\u3145","\u3144"]],l=[["\u3157","\u314F","\u3158"],["\u3157","\u3150","\u3159"],["\u3157","\u3163","\u315A"],["\u315C","\u3153","\u315D"],["\u315C","\u3154","\u315E"],["\u315C","\u3163","\u315F"],["\u3161","\u3163","\u3162"]],u,d,p,y,E,F;function D(r){for(var f=r.length,M={0:0},m=0;m<f;m++)r[m]&&(M[r[m].charCodeAt(0)]=m);return M}u=D(i),d=D(o),p=D(a),y=D(c);function K(r){for(var f=r.length,M={},m,x,w=0;w<f;w++)m=r[w][0].charCodeAt(0),x=r[w][1].charCodeAt(0),typeof M[m]=="undefined"&&(M[m]={}),M[m][x]=r[w][2].charCodeAt(0);return M}E=K(h),F=K(l);function z(r){return typeof u[r]!="undefined"}function O(r){return typeof d[r]!="undefined"}function _(r){return typeof p[r]!="undefined"}function ee(r){return typeof y[r]!="undefined"}function P(r){return 44032<=r&&r<=55203}function I(r,f){return F[r]&&F[r][f]?F[r][f]:!1}function N(r,f){return E[r]&&E[r][f]?E[r][f]:!1}var v=function(r,f){if(r===null)throw new Error("Arguments cannot be null");typeof r=="object"&&(r=r.join(""));for(var M=[],m=r.length,x,w,R,A,C,b=0;b<m;b++){var S=[];A=r.charCodeAt(b),P(A)?(A-=s,R=A%28,w=(A-R)/28%21,x=parseInt((A-R)/28/21),S.push(n[x]),typeof t[w]=="object"?S=S.concat(t[w]):S.push(t[w]),R>0&&(typeof e[R]=="object"?S=S.concat(e[R]):S.push(e[R]))):z(A)?(O(A)?C=n[d[A]]:C=e[y[A]],typeof C=="string"?S.push(C):S=S.concat(C)):_(A)?(C=t[p[A]],typeof C=="string"?S.push(C):S=S.concat(C)):S.push(r.charAt(b)),f?M.push(S):M=M.concat(S)}return M},re=function(r){return typeof r!="string"?"":(r=v(r),r.join(""))},ne=function(r){typeof r=="string"&&(r=v(r));var f=[],M=r.length,m,x=0,w=-1,R,A=!1;function C(S){var J,k,$,le,Q=0,ie,Y="";if(A=!1,!(w+1>S))for(var L=1;;L++){if(L===1){if(k=r[w+L].charCodeAt(0),_(k))if(w+L+1<=S&&_($=r[w+L+1].charCodeAt(0))){f.push(String.fromCharCode(I(k,$))),w=S;return}else{f.push(r[w+L]),w=S;return}else if(!O(k)){f.push(r[w+L]),w=S;return}Y=r[w+L]}else if(L===2)if($=r[w+L].charCodeAt(0),O($)){k=N(k,$),Y=String.fromCharCode(k),f.push(Y),w=S;return}else Y=String.fromCharCode((d[k]*21+p[$])*28+s);else L===3?(le=r[w+L].charCodeAt(0),I($,le)?$=I($,le):Q=le,Y=String.fromCharCode((d[k]*21+p[$])*28+y[Q]+s)):L===4?(ie=r[w+L].charCodeAt(0),N(Q,ie)?Q=N(Q,ie):Q=ie,Y=String.fromCharCode((d[k]*21+p[$])*28+y[Q]+s)):L===5&&(ie=r[w+L].charCodeAt(0),Q=N(Q,ie),Y=String.fromCharCode((d[k]*21+p[$])*28+y[Q]+s));if(w+L>=S){f.push(Y),w=S;return}}}for(var b=0;b<M;b++){if(m=r[b].charCodeAt(0),!O(m)&&!_(m)&&!ee(m)){C(b-1),C(b),x=0;continue}x===0?O(m)?x=1:_(m)&&(x=4):x==1?_(m)?x=2:N(R,m)?x=5:C(b-1):x==2?ee(m)?x=3:_(m)?I(R,m)||(C(b-1),x=4):(C(b-1),x=1):x==3?ee(m)?!A&&N(R,m)?A=!0:(C(b-1),x=1):O(m)?(C(b-1),x=1):_(m)&&(C(b-2),x=2):x==4?_(m)?I(R,m)?(C(b),x=0):C(b-1):(C(b-1),x=1):x==5&&(_(m)?(C(b-2),x=2):(C(b-1),x=1)),R=m}return C(b-1),f.join("")},X=function(r,f){var M=v(r).join(""),m=v(f).join("");return M.indexOf(m)},Ke=function(r,f){var M=v(r).join(""),m=v(f).join(""),x=v(r,!0),w=new RegExp(m,"gi"),R=[],A;if(!f.length)return[];for(;A=w.exec(M);)R.push(A.index);function C(S){for(var J=0,k=0;J<x.length;++J)if(k+=x[J].length,S<k)return J}function b(S){for(var J=0,k=0;J<x.length;++J)if(k+=x[J].length,S+m.length<=k)return J}return R.map(function(S){return[C(S),b(S)]})};function H(r){this.string=r,this.disassembled=v(r).join("")}H.prototype.search=function(r){return v(r).join("").indexOf(this.disassembled)};var se=function(r){typeof r=="object"&&(r=r.join(""));var f=r.charCodeAt(r.length-1);if(P(f)){f-=s;var M=f%28;if(M>0)return!0}else if(z(f))return!0;return!1},ce=function(r,f){return v(r).pop()===f},Ee={disassemble:v,d:v,disassembleToString:re,ds:re,assemble:ne,a:ne,search:X,rangeSearch:Ke,Searcher:H,endsWithConsonant:se,endsWith:ce,isHangul:function(r){return typeof r=="string"&&(r=r.charCodeAt(0)),P(r)},isComplete:function(r){return typeof r=="string"&&(r=r.charCodeAt(0)),P(r)},isConsonant:function(r){return typeof r=="string"&&(r=r.charCodeAt(0)),z(r)},isVowel:function(r){return typeof r=="string"&&(r=r.charCodeAt(0)),_(r)},isCho:function(r){return typeof r=="string"&&(r=r.charCodeAt(0)),O(r)},isJong:function(r){return typeof r=="string"&&(r=r.charCodeAt(0)),ee(r)},isHangulAll:function(r){if(typeof r!="string")return!1;for(var f=0;f<r.length;f++)if(!P(r.charCodeAt(f)))return!1;return!0},isCompleteAll:function(r){if(typeof r!="string")return!1;for(var f=0;f<r.length;f++)if(!P(r.charCodeAt(f)))return!1;return!0},isConsonantAll:function(r){if(typeof r!="string")return!1;for(var f=0;f<r.length;f++)if(!z(r.charCodeAt(f)))return!1;return!0},isVowelAll:function(r){if(typeof r!="string")return!1;for(var f=0;f<r.length;f++)if(!_(r.charCodeAt(f)))return!1;return!0},isChoAll:function(r){if(typeof r!="string")return!1;for(var f=0;f<r.length;f++)if(!O(r.charCodeAt(f)))return!1;return!0},isJongAll:function(r){if(typeof r!="string")return!1;for(var f=0;f<r.length;f++)if(!ee(r.charCodeAt(f)))return!1;return!0}};typeof define=="function"&&define.amd?define(function(){return Ee}):typeof De!="undefined"?De.exports=Ee:window.Hangul=Ee})()});var Pt={};at(Pt,{default:()=>Ce});module.exports=lt(Pt);var W=require("obsidian");var T=require("obsidian"),ze={fuzzyThreshold:.4,overrideQuickSwitcher:!0,indexContent:!0,maxResults:50,showFileSize:!0,showModifiedTime:!0,showScore:!1,enableAutoIndex:!0},ue=class extends T.PluginSettingTab{constructor(e,s){super(e,s);this.plugin=s}display(){let{containerEl:e}=this;e.empty(),e.createEl("h1",{text:"\u{1F50D} Korean Search Settings"}),e.createEl("p",{text:"Omnisearch replacement with Korean language support",cls:"setting-item-description"}),e.createEl("h2",{text:"Search Configuration"}),new T.Setting(e).setName("Fuzzy search threshold").setDesc("Controls search sensitivity (0 = exact match, 1 = very loose match)").addSlider(l=>l.setLimits(0,1,.1).setValue(this.plugin.settings.fuzzyThreshold).setDynamicTooltip().onChange(async u=>{this.plugin.settings.fuzzyThreshold=u,await this.plugin.saveSettings(),this.plugin.index.updateThreshold(u)})).addText(l=>l.setValue(this.plugin.settings.fuzzyThreshold.toString()).onChange(async u=>{let d=parseFloat(u);!isNaN(d)&&d>=0&&d<=1&&(this.plugin.settings.fuzzyThreshold=d,await this.plugin.saveSettings(),this.plugin.index.updateThreshold(d))})),new T.Setting(e).setName("Maximum search results").setDesc("Limit the number of results shown (higher = slower)").addSlider(l=>l.setLimits(10,100,10).setValue(this.plugin.settings.maxResults).setDynamicTooltip().onChange(async u=>{this.plugin.settings.maxResults=u,await this.plugin.saveSettings()})),new T.Setting(e).setName("Index file content").setDesc("Search inside file content (not just filenames). May slow down indexing.").addToggle(l=>l.setValue(this.plugin.settings.indexContent).onChange(async u=>{this.plugin.settings.indexContent=u,await this.plugin.saveSettings(),new T.Notice("\u{1F4A1} Consider rebuilding the index after changing this setting",5e3)})),e.createEl("h2",{text:"Interface Settings"}),new T.Setting(e).setName("Override Quick Switcher").setDesc("Replace default Quick Switcher (Cmd/Ctrl+O) with Korean search").addToggle(l=>l.setValue(this.plugin.settings.overrideQuickSwitcher).onChange(async u=>{this.plugin.settings.overrideQuickSwitcher=u,await this.plugin.saveSettings();let d=e.createDiv({text:"\u26A0\uFE0F Please restart Obsidian for this change to take effect.",cls:"setting-item-description mod-warning"});setTimeout(()=>d.remove(),5e3)})),new T.Setting(e).setName("Show file size").setDesc("Display file size in search results").addToggle(l=>l.setValue(this.plugin.settings.showFileSize).onChange(async u=>{this.plugin.settings.showFileSize=u,await this.plugin.saveSettings()})),new T.Setting(e).setName("Show modified time").setDesc("Display last modified time in search results").addToggle(l=>l.setValue(this.plugin.settings.showModifiedTime).onChange(async u=>{this.plugin.settings.showModifiedTime=u,await this.plugin.saveSettings()})),new T.Setting(e).setName("Show search score").setDesc("Display relevance score in results (for debugging)").addToggle(l=>l.setValue(this.plugin.settings.showScore).onChange(async u=>{this.plugin.settings.showScore=u,await this.plugin.saveSettings()})),e.createEl("h2",{text:"Performance Settings"}),new T.Setting(e).setName("Auto-rebuild index").setDesc("Automatically update index when files are created, modified, or deleted").addToggle(l=>l.setValue(this.plugin.settings.enableAutoIndex).onChange(async u=>{this.plugin.settings.enableAutoIndex=u,await this.plugin.saveSettings()})),e.createEl("h2",{text:"Index Management"});let s=e.createDiv({cls:"setting-item"});s.createDiv({text:`\u{1F4CA} Currently indexed: ${this.plugin.index.getIndexedCount()} files`,cls:"setting-item-name"}),new T.Setting(e).setName("Rebuild search index").setDesc("Manually rebuild the entire search index").addButton(l=>l.setButtonText("Rebuild Index").setClass("mod-cta").onClick(async()=>{l.setButtonText("Rebuilding..."),l.setDisabled(!0);try{await this.plugin.index.build(),new T.Notice(`\u2705 Index rebuilt! (${this.plugin.index.getIndexedCount()} files)`,3e3),s.querySelector(".setting-item-name").textContent=`\u{1F4CA} Currently indexed: ${this.plugin.index.getIndexedCount()} files`}catch(u){new T.Notice("\u274C Failed to rebuild index - check console",5e3),console.error("Failed to rebuild index:",u)}finally{l.setButtonText("Rebuild Index"),l.setDisabled(!1)}})),new T.Setting(e).setName("Clear search index").setDesc("Remove all indexed data (will need to rebuild)").addButton(l=>l.setButtonText("Clear Index").setClass("mod-warning").onClick(()=>{this.plugin.index.clear(),new T.Notice("\u{1F5D1}\uFE0F Index cleared",2e3),s.querySelector(".setting-item-name").textContent="\u{1F4CA} Currently indexed: 0 files"}));let a=new T.Setting(e).setName("Korean Search Examples").setDesc("Try these search patterns:").settingEl.createDiv({cls:"hangul-search-examples"}).createEl("ul");a.createEl("li").innerHTML='<strong>\uCD08\uC131 \uAC80\uC0C9:</strong> "\u314E\u3131" \u2192 finds "\uD55C\uAE00", "\uD56D\uACF5", "\uD559\uAD50"',a.createEl("li").innerHTML='<strong>\uBD80\uBD84 \uC74C\uC808:</strong> "\uD55C\u3131" \u2192 finds "\uD55C\uAD6D", "\uD55C\uAE00"',a.createEl("li").innerHTML='<strong>\uD63C\uD569 \uAC80\uC0C9:</strong> "\u314E\u3131\u3139\uAD50" \u2192 finds "\uD55C\uAE00\uD559\uAD50"',a.createEl("li").innerHTML="<strong>\uB0B4\uC6A9 \uAC80\uC0C9:</strong> Searches file content too",a.createEl("li").innerHTML="<strong>\uC601\uC5B4 \uAC80\uC0C9:</strong> Regular English search also works",e.createEl("h2",{text:"Keyboard Shortcuts"});let h=e.createDiv({cls:"hangul-search-examples"}).createEl("ul");h.createEl("li").innerHTML="<strong>Ctrl/Cmd + Shift + O:</strong> Open Korean Search",h.createEl("li").innerHTML="<strong>Ctrl/Cmd + O:</strong> Quick Switcher (if override enabled)",h.createEl("li").innerHTML="<strong>Ctrl + Enter:</strong> Open in new tab",h.createEl("li").innerHTML="<strong>Shift + Enter:</strong> Open in new pane"}};function G(n){return Array.isArray?Array.isArray(n):Ue(n)==="[object Array]"}var ht=1/0;function ut(n){if(typeof n=="string")return n;let t=n+"";return t=="0"&&1/n==-ht?"-0":t}function dt(n){return n==null?"":ut(n)}function B(n){return typeof n=="string"}function We(n){return typeof n=="number"}function ft(n){return n===!0||n===!1||gt(n)&&Ue(n)=="[object Boolean]"}function Ge(n){return typeof n=="object"}function gt(n){return Ge(n)&&n!==null}function j(n){return n!=null}function be(n){return!n.trim().length}function Ue(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}var pt="Incorrect 'index' type",mt=n=>`Invalid value for key ${n}`,xt=n=>`Pattern length exceeds max of ${n}.`,St=n=>`Missing ${n} property in key`,yt=n=>`Property 'weight' in key '${n}' must be a positive integer`,Pe=Object.prototype.hasOwnProperty,ve=class{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(s=>{let i=Xe(s);e+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,e+=i.weight}),this._keys.forEach(s=>{s.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function Xe(n){let t=null,e=null,s=null,i=1,o=null;if(B(n)||G(n))s=n,t=Je(n),e=Me(n);else{if(!Pe.call(n,"name"))throw new Error(St("name"));let a=n.name;if(s=a,Pe.call(n,"weight")&&(i=n.weight,i<=0))throw new Error(yt(a));t=Je(a),e=Me(a),o=n.getFn}return{path:t,id:e,weight:i,src:s,getFn:o}}function Je(n){return G(n)?n:n.split(".")}function Me(n){return G(n)?n.join("."):n}function wt(n,t){let e=[],s=!1,i=(o,a,c)=>{if(j(o))if(!a[c])e.push(o);else{let h=a[c],l=o[h];if(!j(l))return;if(c===a.length-1&&(B(l)||We(l)||ft(l)))e.push(dt(l));else if(G(l)){s=!0;for(let u=0,d=l.length;u<d;u+=1)i(l[u],a,c+1)}else a.length&&i(l,a,c+1)}};return i(n,B(t)?t.split("."):t,0),s?e:e[0]}var Ct={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Et={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,t)=>n.score===t.score?n.idx<t.idx?-1:1:n.score<t.score?-1:1},bt={location:0,threshold:.6,distance:100},vt={useExtendedSearch:!1,getFn:wt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},g={...Et,...Ct,...bt,...vt},Mt=/[^ ]+/g;function At(n=1,t=3){let e=new Map,s=Math.pow(10,t);return{get(i){let o=i.match(Mt).length;if(e.has(o))return e.get(o);let a=1/Math.pow(o,.5*n),c=parseFloat(Math.round(a*s)/s);return e.set(o,c),c},clear(){e.clear()}}}var oe=class{constructor({getFn:t=g.getFn,fieldNormWeight:e=g.fieldNormWeight}={}){this.norm=At(e,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((e,s)=>{this._keysMap[e.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,B(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){let e=this.size();B(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,s=this.size();e<s;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!j(t)||be(t))return;let s={v:t,i:e,n:this.norm.get(t)};this.records.push(s)}_addObject(t,e){let s={i:e,$:{}};this.keys.forEach((i,o)=>{let a=i.getFn?i.getFn(t):this.getFn(t,i.path);if(j(a)){if(G(a)){let c=[],h=[{nestedArrIndex:-1,value:a}];for(;h.length;){let{nestedArrIndex:l,value:u}=h.pop();if(j(u))if(B(u)&&!be(u)){let d={v:u,i:l,n:this.norm.get(u)};c.push(d)}else G(u)&&u.forEach((d,p)=>{h.push({nestedArrIndex:p,value:d})})}s.$[o]=c}else if(B(a)&&!be(a)){let c={v:a,n:this.norm.get(a)};s.$[o]=c}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}};function Ye(n,t,{getFn:e=g.getFn,fieldNormWeight:s=g.fieldNormWeight}={}){let i=new oe({getFn:e,fieldNormWeight:s});return i.setKeys(n.map(Xe)),i.setSources(t),i.create(),i}function Tt(n,{getFn:t=g.getFn,fieldNormWeight:e=g.fieldNormWeight}={}){let{keys:s,records:i}=n,o=new oe({getFn:t,fieldNormWeight:e});return o.setKeys(s),o.setIndexRecords(i),o}function de(n,{errors:t=0,currentLocation:e=0,expectedLocation:s=0,distance:i=g.distance,ignoreLocation:o=g.ignoreLocation}={}){let a=t/n.length;if(o)return a;let c=Math.abs(s-e);return i?a+c/i:c?1:a}function It(n=[],t=g.minMatchCharLength){let e=[],s=-1,i=-1,o=0;for(let a=n.length;o<a;o+=1){let c=n[o];c&&s===-1?s=o:!c&&s!==-1&&(i=o-1,i-s+1>=t&&e.push([s,i]),s=-1)}return n[o-1]&&o-s>=t&&e.push([s,o-1]),e}var te=32;function Ft(n,t,e,{location:s=g.location,distance:i=g.distance,threshold:o=g.threshold,findAllMatches:a=g.findAllMatches,minMatchCharLength:c=g.minMatchCharLength,includeMatches:h=g.includeMatches,ignoreLocation:l=g.ignoreLocation}={}){if(t.length>te)throw new Error(xt(te));let u=t.length,d=n.length,p=Math.max(0,Math.min(s,d)),y=o,E=p,F=c>1||h,D=F?Array(d):[],K;for(;(K=n.indexOf(t,E))>-1;){let I=de(t,{currentLocation:K,expectedLocation:p,distance:i,ignoreLocation:l});if(y=Math.min(I,y),E=K+u,F){let N=0;for(;N<u;)D[K+N]=1,N+=1}}E=-1;let z=[],O=1,_=u+d,ee=1<<u-1;for(let I=0;I<u;I+=1){let N=0,v=_;for(;N<v;)de(t,{errors:I,currentLocation:p+v,expectedLocation:p,distance:i,ignoreLocation:l})<=y?N=v:_=v,v=Math.floor((_-N)/2+N);_=v;let re=Math.max(1,p-v+1),ne=a?d:Math.min(p+v,d)+u,X=Array(ne+2);X[ne+1]=(1<<I)-1;for(let H=ne;H>=re;H-=1){let se=H-1,ce=e[n.charAt(se)];if(F&&(D[se]=+!!ce),X[H]=(X[H+1]<<1|1)&ce,I&&(X[H]|=(z[H+1]|z[H])<<1|1|z[H+1]),X[H]&ee&&(O=de(t,{errors:I,currentLocation:se,expectedLocation:p,distance:i,ignoreLocation:l}),O<=y)){if(y=O,E=se,E<=p)break;re=Math.max(1,2*p-E)}}if(de(t,{errors:I+1,currentLocation:p,expectedLocation:p,distance:i,ignoreLocation:l})>y)break;z=X}let P={isMatch:E>=0,score:Math.max(.001,O)};if(F){let I=It(D,c);I.length?h&&(P.indices=I):P.isMatch=!1}return P}function _t(n){let t={};for(let e=0,s=n.length;e<s;e+=1){let i=n.charAt(e);t[i]=(t[i]||0)|1<<s-e-1}return t}var fe=class{constructor(t,{location:e=g.location,threshold:s=g.threshold,distance:i=g.distance,includeMatches:o=g.includeMatches,findAllMatches:a=g.findAllMatches,minMatchCharLength:c=g.minMatchCharLength,isCaseSensitive:h=g.isCaseSensitive,ignoreLocation:l=g.ignoreLocation}={}){if(this.options={location:e,threshold:s,distance:i,includeMatches:o,findAllMatches:a,minMatchCharLength:c,isCaseSensitive:h,ignoreLocation:l},this.pattern=h?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;let u=(p,y)=>{this.chunks.push({pattern:p,alphabet:_t(p),startIndex:y})},d=this.pattern.length;if(d>te){let p=0,y=d%te,E=d-y;for(;p<E;)u(this.pattern.substr(p,te),p),p+=te;if(y){let F=d-te;u(this.pattern.substr(F),F)}}else u(this.pattern,0)}searchIn(t){let{isCaseSensitive:e,includeMatches:s}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let E={isMatch:!0,score:0};return s&&(E.indices=[[0,t.length-1]]),E}let{location:i,distance:o,threshold:a,findAllMatches:c,minMatchCharLength:h,ignoreLocation:l}=this.options,u=[],d=0,p=!1;this.chunks.forEach(({pattern:E,alphabet:F,startIndex:D})=>{let{isMatch:K,score:z,indices:O}=Ft(t,E,F,{location:i+D,distance:o,threshold:a,findAllMatches:c,minMatchCharLength:h,includeMatches:s,ignoreLocation:l});K&&(p=!0),d+=z,K&&O&&(u=[...u,...O])});let y={isMatch:p,score:p?d/this.chunks.length:1};return p&&s&&(y.indices=u),y}},V=class{constructor(t){this.pattern=t}static isMultiMatch(t){return Qe(t,this.multiRegex)}static isSingleMatch(t){return Qe(t,this.singleRegex)}search(){}};function Qe(n,t){let e=n.match(t);return e?e[1]:null}var Ae=class extends V{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){let e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},Te=class extends V{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){let s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}},Ie=class extends V{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){let e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},Fe=class extends V{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){let e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},_e=class extends V{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){let e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},ke=class extends V{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){let e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},ge=class extends V{constructor(t,{location:e=g.location,threshold:s=g.threshold,distance:i=g.distance,includeMatches:o=g.includeMatches,findAllMatches:a=g.findAllMatches,minMatchCharLength:c=g.minMatchCharLength,isCaseSensitive:h=g.isCaseSensitive,ignoreLocation:l=g.ignoreLocation}={}){super(t),this._bitapSearch=new fe(t,{location:e,threshold:s,distance:i,includeMatches:o,findAllMatches:a,minMatchCharLength:c,isCaseSensitive:h,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}},pe=class extends V{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e=0,s,i=[],o=this.pattern.length;for(;(s=t.indexOf(this.pattern,e))>-1;)e=s+o,i.push([s,e-1]);let a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}},Le=[Ae,pe,Ie,Fe,ke,_e,Te,ge],Be=Le.length,kt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Lt="|";function Ot(n,t={}){return n.split(Lt).map(e=>{let s=e.trim().split(kt).filter(o=>o&&!!o.trim()),i=[];for(let o=0,a=s.length;o<a;o+=1){let c=s[o],h=!1,l=-1;for(;!h&&++l<Be;){let u=Le[l],d=u.isMultiMatch(c);d&&(i.push(new u(d,t)),h=!0)}if(!h)for(l=-1;++l<Be;){let u=Le[l],d=u.isSingleMatch(c);if(d){i.push(new u(d,t));break}}}return i})}var Rt=new Set([ge.type,pe.type]),Oe=class{constructor(t,{isCaseSensitive:e=g.isCaseSensitive,includeMatches:s=g.includeMatches,minMatchCharLength:i=g.minMatchCharLength,ignoreLocation:o=g.ignoreLocation,findAllMatches:a=g.findAllMatches,location:c=g.location,threshold:h=g.threshold,distance:l=g.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:s,minMatchCharLength:i,findAllMatches:a,ignoreLocation:o,location:c,threshold:h,distance:l},this.pattern=e?t:t.toLowerCase(),this.query=Ot(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){let e=this.query;if(!e)return{isMatch:!1,score:1};let{includeMatches:s,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let o=0,a=[],c=0;for(let h=0,l=e.length;h<l;h+=1){let u=e[h];a.length=0,o=0;for(let d=0,p=u.length;d<p;d+=1){let y=u[d],{isMatch:E,indices:F,score:D}=y.search(t);if(E){if(o+=1,c+=D,s){let K=y.constructor.type;Rt.has(K)?a=[...a,...F]:a.push(F)}}else{c=0,o=0,a.length=0;break}}if(o){let d={isMatch:!0,score:c/o};return s&&(d.indices=a),d}}return{isMatch:!1,score:1}}},Re=[];function Nt(...n){Re.push(...n)}function Ne(n,t){for(let e=0,s=Re.length;e<s;e+=1){let i=Re[e];if(i.condition(n,t))return new i(n,t)}return new fe(n,t)}var me={AND:"$and",OR:"$or"},He={PATH:"$path",PATTERN:"$val"},je=n=>!!(n[me.AND]||n[me.OR]),Ht=n=>!!n[He.PATH],jt=n=>!G(n)&&Ge(n)&&!je(n),Ve=n=>({[me.AND]:Object.keys(n).map(t=>({[t]:n[t]}))});function Ze(n,t,{auto:e=!0}={}){let s=i=>{let o=Object.keys(i),a=Ht(i);if(!a&&o.length>1&&!je(i))return s(Ve(i));if(jt(i)){let h=a?i[He.PATH]:o[0],l=a?i[He.PATTERN]:i[h];if(!B(l))throw new Error(mt(h));let u={keyId:Me(h),pattern:l};return e&&(u.searcher=Ne(l,t)),u}let c={children:[],operator:o[0]};return o.forEach(h=>{let l=i[h];G(l)&&l.forEach(u=>{c.children.push(s(u))})}),c};return je(n)||(n=Ve(n)),s(n)}function Dt(n,{ignoreFieldNorm:t=g.ignoreFieldNorm}){n.forEach(e=>{let s=1;e.matches.forEach(({key:i,norm:o,score:a})=>{let c=i?i.weight:null;s*=Math.pow(a===0&&c?Number.EPSILON:a,(c||1)*(t?1:o))}),e.score=s})}function Kt(n,t){let e=n.matches;t.matches=[],j(e)&&e.forEach(s=>{if(!j(s.indices)||!s.indices.length)return;let{indices:i,value:o}=s,a={indices:i,value:o};s.key&&(a.key=s.key.src),s.idx>-1&&(a.refIndex=s.idx),t.matches.push(a)})}function $t(n,t){t.score=n.score}function zt(n,t,{includeMatches:e=g.includeMatches,includeScore:s=g.includeScore}={}){let i=[];return e&&i.push(Kt),s&&i.push($t),n.map(o=>{let{idx:a}=o,c={item:t[a],refIndex:a};return i.length&&i.forEach(h=>{h(o,c)}),c})}var U=class{constructor(t,e={},s){this.options={...g,...e},this.options.useExtendedSearch,this._keyStore=new ve(this.options.keys),this.setCollection(t,s)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof oe))throw new Error(pt);this._myIndex=e||Ye(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){j(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){let e=[];for(let s=0,i=this._docs.length;s<i;s+=1){let o=this._docs[s];t(o,s)&&(this.removeAt(s),s-=1,i-=1,e.push(o))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:e=-1}={}){let{includeMatches:s,includeScore:i,shouldSort:o,sortFn:a,ignoreFieldNorm:c}=this.options,h=B(t)?B(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Dt(h,{ignoreFieldNorm:c}),o&&h.sort(a),We(e)&&e>-1&&(h=h.slice(0,e)),zt(h,this._docs,{includeMatches:s,includeScore:i})}_searchStringList(t){let e=Ne(t,this.options),{records:s}=this._myIndex,i=[];return s.forEach(({v:o,i:a,n:c})=>{if(!j(o))return;let{isMatch:h,score:l,indices:u}=e.searchIn(o);h&&i.push({item:o,idx:a,matches:[{score:l,value:o,norm:c,indices:u}]})}),i}_searchLogical(t){let e=Ze(t,this.options),s=(c,h,l)=>{if(!c.children){let{keyId:d,searcher:p}=c,y=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(h,d),searcher:p});return y&&y.length?[{idx:l,item:h,matches:y}]:[]}let u=[];for(let d=0,p=c.children.length;d<p;d+=1){let y=c.children[d],E=s(y,h,l);if(E.length)u.push(...E);else if(c.operator===me.AND)return[]}return u},i=this._myIndex.records,o={},a=[];return i.forEach(({$:c,i:h})=>{if(j(c)){let l=s(e,c,h);l.length&&(o[h]||(o[h]={idx:h,item:c,matches:[]},a.push(o[h])),l.forEach(({matches:u})=>{o[h].matches.push(...u)}))}}),a}_searchObjectList(t){let e=Ne(t,this.options),{keys:s,records:i}=this._myIndex,o=[];return i.forEach(({$:a,i:c})=>{if(!j(a))return;let h=[];s.forEach((l,u)=>{h.push(...this._findMatches({key:l,value:a[u],searcher:e}))}),h.length&&o.push({idx:c,item:a,matches:h})}),o}_findMatches({key:t,value:e,searcher:s}){if(!j(e))return[];let i=[];if(G(e))e.forEach(({v:o,i:a,n:c})=>{if(!j(o))return;let{isMatch:h,score:l,indices:u}=s.searchIn(o);h&&i.push({score:l,key:t,value:o,idx:a,norm:c,indices:u})});else{let{v:o,n:a}=e,{isMatch:c,score:h,indices:l}=s.searchIn(o);c&&i.push({score:h,key:t,value:o,norm:a,indices:l})}return i}};U.version="6.6.2";U.createIndex=Ye;U.parseIndex=Tt;U.config=g;U.parseQuery=Ze;Nt(Oe);var xe=ct(qe()),Se=class{constructor(t){this.plugin=t;this.entries=[];this.indexMap=new Map}async build(){console.log("\u{1F50D} Building Korean search index...");let t=this.plugin.app.vault.getMarkdownFiles();this.entries=[],this.indexMap.clear();let e=0;for(let s of t)try{await this.addFile(s),e++}catch(i){console.warn(`Failed to index ${s.path}:`,i)}this.rebuildFuse(),console.log(`\u2705 Indexed ${e} files with Korean search support`)}async addFile(t){if(!(!t||t.extension!=="md"))try{let e=await this.plugin.app.vault.cachedRead(t),s=await this.createEntry(t,e);this.indexMap.has(t.path)&&this.removeFile(t),this.entries.push(s),this.indexMap.set(t.path,s),this.rebuildFuse()}catch(e){console.warn(`Failed to add file ${t.path}:`,e)}}removeFile(t){let e=this.indexMap.get(t.path);if(!e)return;let s=this.entries.indexOf(e);s>-1&&(this.entries.splice(s,1),this.indexMap.delete(t.path),this.rebuildFuse())}async updateFile(t){!t||t.extension!=="md"||(this.removeFile(t),await this.addFile(t))}updateOnRename(t,e){this.indexMap.get(e)&&(this.removeFile({path:e}),this.addFile(t))}search(t,e=50){if(!t.trim())return[];let s=xe.default.disassemble(t).join("");return this.fuse.search(s,{limit:e}).map(o=>({...o.item,score:this.calculateRelevanceScore(o.item,t,o.score||0)})).sort((o,a)=>a.score-o.score).slice(0,e)}updateThreshold(t){this.plugin.settings.fuzzyThreshold=t,this.rebuildFuse()}getIndexedCount(){return this.entries.length}clear(){this.entries=[],this.indexMap.clear(),this.rebuildFuse()}async createEntry(t,e){let s=t.basename,i=t.path,o=e.split(`
`).slice(0,3).join(" ").substring(0,200),a=xe.default.disassemble(s).join(""),c=xe.default.disassemble(e).join("");return{display:s,jamo:a,path:i,content:o,contentJamo:c,score:0,size:e.length,mtime:t.stat.mtime}}calculateRelevanceScore(t,e,s){let i=1-s,o=e.toLowerCase(),a=t.display.toLowerCase();return a===o?i+=10:a.includes(o)&&(i+=5),t.content.toLowerCase().includes(o)&&(i+=2),(Date.now()-t.mtime)/(1e3*60*60*24)<7&&(i+=1),t.size<1e3&&(i+=.5),i}rebuildFuse(){this.fuse=new U(this.entries,{threshold:this.plugin.settings.fuzzyThreshold,keys:[{name:"jamo",weight:.4},{name:"display",weight:.3},{name:"contentJamo",weight:.2},{name:"content",weight:.1}],includeScore:!0,minMatchCharLength:1,ignoreLocation:!0})}};var ae=require("obsidian"),Z=class extends ae.FuzzySuggestModal{constructor(e,s){super(e);this.index=s;this.searchResults=[];this.setPlaceholder("\u{1F50D} Korean Search (Type to search files, content, and Korean text...)"),this.setInstructions([{command:"\u2191\u2193",purpose:"to navigate"},{command:"\u21B5",purpose:"to open"},{command:"Ctrl \u21B5",purpose:"to open in new tab"},{command:"Shift \u21B5",purpose:"to open in new pane"},{command:"esc",purpose:"to dismiss"}])}getItems(){let e=this.inputEl.value;return!e||e.trim().length===0?this.getRecentFiles():(this.searchResults=this.index.search(e,50),this.searchResults)}getItemText(e){return e.display}onChooseItem(e,s){var c;let i=this.app.vault.getAbstractFileByPath(e.path);if(!(i instanceof ae.TFile))return;let o=(s==null?void 0:s.ctrlKey)||(s==null?void 0:s.ctrlKey);(s==null?void 0:s.shiftKey)||(s==null?void 0:s.shiftKey)?this.app.workspace.getLeaf("split").openFile(i):o?this.app.workspace.getLeaf("tab").openFile(i):(c=this.app.workspace.activeLeaf)==null||c.openFile(i)}renderSuggestion(e,s){let i=e.item,o=this.inputEl.value.toLowerCase();s.empty(),s.addClass("hangul-search-result");let a=s.createDiv({cls:"hangul-search-result-container"}),c=a.createDiv({cls:"hangul-search-title"});if(this.highlightText(c,i.display,o),i.path!==i.display&&a.createDiv({cls:"hangul-search-path"}).setText(i.path),i.content&&i.content.trim()){let d=a.createDiv({cls:"hangul-search-content"});this.highlightText(d,i.content,o)}let h=a.createDiv({cls:"hangul-search-meta"}),l=this.formatFileSize(i.size);h.createSpan({cls:"hangul-search-size",text:l});let u=this.formatRelativeTime(i.mtime);h.createSpan({cls:"hangul-search-time",text:u}),i.score>0&&h.createSpan({cls:"hangul-search-score",text:`Score: ${i.score.toFixed(2)}`})}highlightText(e,s,i){if(!i){e.setText(s);return}let o=s.toLowerCase(),a=i.toLowerCase(),c=0,h=o.indexOf(a);for(;h!==-1;)h>c&&e.appendText(s.substring(c,h)),e.createSpan({cls:"hangul-search-highlight"}).setText(s.substring(h,h+i.length)),c=h+i.length,h=o.indexOf(a,c);c<s.length&&e.appendText(s.substring(c))}getRecentFiles(){return this.app.workspace.getLastOpenFiles().slice(0,10).map(s=>{let i=this.app.vault.getAbstractFileByPath(s);return i instanceof ae.TFile?{display:i.basename,jamo:i.basename,path:i.path,content:"Recently opened file",contentJamo:"",score:0,size:i.stat.size,mtime:i.stat.mtime}:null}).filter(Boolean)}formatFileSize(e){return e<1024?`${e}B`:e<1024*1024?`${(e/1024).toFixed(1)}KB`:`${(e/(1024*1024)).toFixed(1)}MB`}formatRelativeTime(e){let i=Date.now()-e,o=Math.floor(i/(1e3*60*60*24)),a=Math.floor(i/(1e3*60*60)),c=Math.floor(i/(1e3*60));return o>0?`${o}d ago`:a>0?`${a}h ago`:c>0?`${c}m ago`:"Just now"}};var we=require("obsidian"),ye=class extends we.EditorSuggest{constructor(e,s){super(e);this.index=s}onTrigger(e,s){let a=s.getLine(e.line).substring(0,e.ch).match(/\[\[([^\]]*?)$/);return a?{start:{line:e.line,ch:e.ch-a[1].length},end:e,query:a[1]}:null}getSuggestions(e){let s=e.query;return s?this.index.search(s,20):this.getRecentFiles()}renderSuggestion(e,s){let i=s.createDiv();i.createDiv({cls:"hangul-link-title"}).setText(e.display),e.path!==e.display&&i.createDiv({cls:"hangul-link-path"}).setText(e.path)}selectSuggestion(e){var u;let s=(u=this.context)==null?void 0:u.editor;if(!s)return;let i=s.getCursor(),c=s.getLine(i.line).substring(0,i.ch).match(/\[\[([^\]]*?)$/);if(!c)return;let h=i.ch-c[1].length,l=i.ch;s.replaceRange(e.display+"]]",{line:i.line,ch:h},{line:i.line,ch:l})}getRecentFiles(){return this.app.workspace.getLastOpenFiles().slice(0,10).map(s=>{let i=this.app.vault.getAbstractFileByPath(s);return i instanceof we.TFile?{display:i.basename,jamo:i.basename,path:i.path,content:"Recently opened file",contentJamo:"",score:0,size:i.stat.size,mtime:i.stat.mtime}:null}).filter(Boolean)}};var q=require("obsidian");function et(n){n.addCommand({id:"korean-search",name:"Korean Search (Omnisearch replacement)",hotkeys:[{modifiers:["Mod","Shift"],key:"o"}],callback:()=>{new Z(n.app,n.index).open()}}),n.addCommand({id:"hangul-quick-switcher",name:"Open Korean Quick Switcher",callback:()=>{new Z(n.app,n.index).open()}}),n.settings.overrideQuickSwitcher&&n.addCommand({id:"hangul-override-quick-switcher",name:"Korean Quick Switcher (Override Default)",hotkeys:[{modifiers:["Mod"],key:"o"}],callback:()=>{new Z(n.app,n.index).open()}}),n.addCommand({id:"hangul-rebuild-index",name:"Rebuild Korean Search Index",callback:async()=>{let t=new q.Notice("\u{1F504} Rebuilding Korean search index...",0);try{await n.index.build(),t.hide(),new q.Notice(`\u2705 Korean search index rebuilt! (${n.index.getIndexedCount()} files)`,3e3)}catch(e){t.hide(),new q.Notice("\u274C Failed to rebuild index - check console",5e3),console.error("Failed to rebuild Korean search index:",e)}}}),n.addCommand({id:"hangul-clear-index",name:"Clear Korean Search Index",callback:()=>{n.index.clear(),new q.Notice("\u{1F5D1}\uFE0F Korean search index cleared",2e3)}}),n.addCommand({id:"hangul-search-stats",name:"Show Korean Search Statistics",callback:()=>{let e=`\u{1F4CA} Korean Search Statistics:
\u2022 Indexed files: ${n.index.getIndexedCount()}
\u2022 Fuzzy threshold: ${n.settings.fuzzyThreshold}
\u2022 Override Quick Switcher: ${n.settings.overrideQuickSwitcher?"Yes":"No"}`;new q.Notice(e,5e3)}}),n.addCommand({id:"hangul-search-current-file",name:"Search in Current File (Korean)",checkCallback:t=>n.app.workspace.getActiveFile()?(t||new q.Notice("\u{1F50D} In-file Korean search coming soon!",3e3),!0):!1}),n.addCommand({id:"hangul-open-settings",name:"Open Korean Search Settings",callback:()=>{n.app.setting.open(),n.app.setting.openTabById(n.manifest.id)}}),n.addCommand({id:"hangul-help",name:"Korean Search Help",callback:()=>{let t=`\u{1F50D} Korean Search Help:

Search Features:
\u2022 \uCD08\uC131 search: "\u314E\u3131" \u2192 finds "\uD55C\uAE00", "\uD56D\uACF5"
\u2022 \uBD80\uBD84 \uC74C\uC808: "\uD55C\u3131" \u2192 finds "\uD55C\uAD6D", "\uD55C\uAE00"  
\u2022 \uD63C\uD569 search: "\u314E\u3131\u3139\uAD50" \u2192 finds "\uD55C\uAE00\uD559\uAD50"
\u2022 Content search: searches file content too

Hotkeys:
\u2022 Ctrl/Cmd + Shift + O: Open Korean Search
\u2022 Ctrl/Cmd + O: Quick Switcher (if override enabled)

Tips:
\u2022 Use Ctrl+Enter to open in new tab
\u2022 Use Shift+Enter to open in new pane
\u2022 Recent files shown when search is empty`;new q.Notice(t,1e4)}})}var Ce=class extends W.Plugin{async onload(){console.log("\u{1F525} Hangul Search Plugin (Omnisearch Replacement): Starting to load...");try{await this.loadSettings(),console.log("\u2705 Settings loaded:",this.settings),this.index=new Se(this),await this.index.build(),console.log("\u2705 Korean search index built successfully"),this.registerEvent(this.app.vault.on("create",e=>{e instanceof W.TFile&&e.extension==="md"&&this.index.addFile(e)})),this.registerEvent(this.app.vault.on("delete",e=>{e instanceof W.TFile&&this.index.removeFile(e)})),this.registerEvent(this.app.vault.on("rename",(e,s)=>{e instanceof W.TFile&&this.index.updateOnRename(e,s)})),this.registerEvent(this.app.vault.on("modify",e=>{e instanceof W.TFile&&e.extension==="md"&&this.index.updateFile(e)})),et(this),console.log("\u2705 Korean search commands added"),this.registerEditorSuggest(new ye(this.app,this.index)),console.log("\u2705 Korean link suggestions registered"),this.addSettingTab(new ue(this.app,this)),console.log("\u2705 Settings tab added"),this.settings.overrideQuickSwitcher&&(this.overrideQuickSwitcher(),console.log("\u2705 Quick Switcher overridden with Korean search")),new W.Notice("\u{1F389} Korean Search (Omnisearch replacement) loaded successfully!",3e3),console.log("\u{1F389} Hangul Search Plugin loaded successfully as Omnisearch replacement!")}catch(e){console.error("\u274C Error loading Hangul Search Plugin:",e),new W.Notice("\u274C Failed to load Korean Search Plugin - check console",5e3)}}onunload(){console.log("\u{1F44B} Hangul Search Plugin: Unloading...")}async loadSettings(){this.settings=Object.assign({},ze,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}overrideQuickSwitcher(){this.addCommand({id:"korean-quick-switcher-override",name:"Korean Quick Switcher (Override)",hotkeys:[{modifiers:["Mod"],key:"o"}],callback:()=>{new Z(this.app,this.index).open()}})}getSearchIndex(){return this.index}search(e){return this.index.search(e)}};
